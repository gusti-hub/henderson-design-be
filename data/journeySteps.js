// /backend/data/journeySteps.js
// Journey Steps with 6 Internal Phase Structure
// Total: 80 Steps organized into 6 manageable phases

// ==========================================
// INTERNAL PHASE DEFINITIONS
// Maps to 4 Client-Facing Phases
// ==========================================

const INTERNAL_PHASES = [
  {
    id: 1,
    name: "Inquiry & Intake",
    description: "Qualify lead, confirm basics, approve to proceed",
    clientPhaseId: 1, // Maps to Client Phase 1: Getting Started
    stepRange: [1, 7],
    color: "teal"
  },
  {
    id: 2,
    name: "Portal Setup & Deposit Lock",
    description: "Portal live, preferences captured, funds secured",
    clientPhaseId: 1, // Maps to Client Phase 1: Getting Started
    stepRange: [8, 21],
    color: "teal"
  },
  {
    id: 3,
    name: "Design Development",
    description: "Create, present, and refine design",
    clientPhaseId: 2, // Maps to Client Phase 2: Design & Approval
    stepRange: [22, 38],
    color: "purple"
  },
  {
    id: 4,
    name: "Final Design Lock & Procurement Authorization",
    description: "Lock design, pricing, and authorization to order",
    clientPhaseId: 2, // Maps to Client Phase 2: Design & Approval (transition to 3)
    stepRange: [39, 46],
    color: "purple"
  },
  {
    id: 5,
    name: "Procurement, Production & Logistics",
    description: "Build, QC, ship, and plan install",
    clientPhaseId: 3, // Maps to Client Phase 3: Production & Planning
    stepRange: [47, 66],
    color: "blue"
  },
  {
    id: 6,
    name: "Installation, Closeout & Handover",
    description: "Deliver, install, close cleanly",
    clientPhaseId: 4, // Maps to Client Phase 4: Delivery & Completion
    stepRange: [67, 80],
    color: "amber"
  }
];

// ==========================================
// JOURNEY STEPS
// Each step now includes internalPhaseId
// ==========================================

const JOURNEY_STEPS = [
  // ==========================================
  // INTERNAL PHASE 1: Inquiry & Intake (Steps 1-7)
  // Client Phase 1: Getting Started
  // ==========================================
  {
    step: 1,
    internalPhaseId: 1,
    stage: "Inquiry and Intake",
    owner: "PM + Sales",
    adminDescription: "Lead logged in CRM",
    clientDescription: "Lead logged in CRM",
    clientVisible: false,
    autoEmail: false,
    docAutoGenerated: false,
    clientActionNeeded: false
  },
  {
    step: 2,
    internalPhaseId: 1,
    stage: "Inquiry and Intake",
    owner: "PM + Sales",
    adminDescription: "Sales → PM introduction",
    clientDescription: "Sales → PM introduction",
    clientVisible: false,
    autoEmail: false,
    docAutoGenerated: false,
    clientActionNeeded: false
  },
  {
    step: 3,
    internalPhaseId: 1,
    stage: "Inquiry and Intake",
    owner: "PM + Sales",
    adminDescription: "Intake meeting scheduled",
    clientDescription: "Intake meeting scheduled",
    clientVisible: false,
    autoEmail: false,
    docAutoGenerated: false,
    clientActionNeeded: false
  },
  {
    step: 4,
    internalPhaseId: 1,
    stage: "Inquiry and Intake",
    owner: "PM + Sales",
    adminDescription: "Intake meeting completed",
    clientDescription: "Intake meeting completed",
    clientVisible: false,
    autoEmail: false,
    docAutoGenerated: false,
    clientActionNeeded: false
  },
  {
    step: 5,
    internalPhaseId: 1,
    stage: "Inquiry and Intake",
    owner: "PM + Sales",
    adminDescription: "Unit # confirmed",
    clientDescription: "Unit # confirmed",
    clientVisible: false,
    autoEmail: false,
    docAutoGenerated: false,
    clientActionNeeded: false
  },
  {
    step: 6,
    internalPhaseId: 1,
    stage: "Inquiry and Intake",
    owner: "PM + Sales",
    adminDescription: "Budget + timeline captured",
    clientDescription: "",
    clientVisible: false,
    autoEmail: false,
    docAutoGenerated: false,
    clientActionNeeded: false
  },
  {
    step: 7,
    internalPhaseId: 1,
    stage: "Inquiry and Intake",
    owner: "PM + Sales",
    adminDescription: "Client record approved to proceed (internal)",
    clientDescription: "Client record approved to proceed (internal)",
    clientVisible: false,
    autoEmail: true,
    docAutoGenerated: false,
    clientActionNeeded: false
  },

  // ==========================================
  // INTERNAL PHASE 2: Portal Setup & Deposit Lock (Steps 8-21)
  // Client Phase 1: Getting Started
  // ==========================================
  {
    step: 8,
    internalPhaseId: 2,
    stage: "Welcome Portal Access",
    owner: "PM",
    adminDescription: "Portal user prepared (Register Client)",
    clientDescription: "Portal user prepared (Register Client)",
    clientVisible: false,
    autoEmail: false,
    docAutoGenerated: false,
    clientActionNeeded: false
  },
  {
    step: 9,
    internalPhaseId: 2,
    stage: "Welcome Portal Access",
    owner: "PM",
    adminDescription: "Portal invite sent (Auto email to client)",
    clientDescription: "",
    clientVisible: false,
    autoEmail: true,
    docAutoGenerated: false,
    clientActionNeeded: false
  },
  {
    step: 10,
    internalPhaseId: 2,
    stage: "Welcome Portal Access",
    owner: "PM",
    adminDescription: "Client signs into portal",
    clientDescription: "Client signs into portal",
    clientVisible: false,
    autoEmail: false,
    docAutoGenerated: false,
    clientActionNeeded: false
  },
  {
    step: 11,
    internalPhaseId: 2,
    stage: "Welcome Portal Access",
    owner: "PM",
    adminDescription: "Client notified: Questionnaire submitted to them",
    clientDescription: "Complete Your Questionnaire",
    clientVisible: true,
    autoEmail: false,
    docAutoGenerated: false,
    clientActionNeeded: false
  },
  {
    step: 12,
    internalPhaseId: 2,
    stage: "Welcome Portal Access",
    owner: "PM",
    adminDescription: "Client reviews product offering + documents",
    clientDescription: "Review Product Offerings & Documents",
    clientVisible: true,
    autoEmail: false,
    docAutoGenerated: false,
    clientActionNeeded: true
  },
  {
    step: 13,
    internalPhaseId: 2,
    stage: "Welcome Portal Access",
    owner: "PM",
    adminDescription: "Client preference data verified (from questionnaire)",
    clientDescription: "Verify Your Preferences",
    clientVisible: true,
    autoEmail: false,
    docAutoGenerated: false,
    clientActionNeeded: true
  },
  {
    step: 14,
    internalPhaseId: 2,
    stage: "Deposit and Agreements",
    owner: "Finance",
    adminDescription: "PM notifies Finance of deposit intent",
    clientDescription: "PM notifies Finance of deposit intent",
    clientVisible: false,
    autoEmail: false,
    docAutoGenerated: false,
    clientActionNeeded: false
  },
  {
    step: 15,
    internalPhaseId: 2,
    stage: "Deposit and Agreements",
    owner: "Finance",
    adminDescription: "Finance prepares Pricing Hold Agreement and/or Design Fee Agreement",
    clientDescription: "Finance prepares Pricing Hold Agreement and/or Design Fee Agreement",
    clientVisible: false,
    autoEmail: false,
    docAutoGenerated: true,
    clientActionNeeded: false
  },
  {
    step: 16,
    internalPhaseId: 2,
    stage: "Deposit and Agreements",
    owner: "Finance",
    adminDescription: "Finance prepares 30% invoice or design-fee-only invoice",
    clientDescription: "Finance prepares 30% invoice or design fee only invoice",
    clientVisible: false,
    autoEmail: false,
    docAutoGenerated: false,
    clientActionNeeded: false
  },
  {
    step: 17,
    internalPhaseId: 2,
    stage: "Deposit and Agreements",
    owner: "Finance",
    adminDescription: "Client signs Pricing Hold Agreement and/or Design Fee Agreement",
    clientDescription: "Sign Your Agreement",
    clientVisible: true,
    autoEmail: false,
    docAutoGenerated: false,
    clientActionNeeded: true
  },
  {
    step: 18,
    internalPhaseId: 2,
    stage: "Deposit and Agreements",
    owner: "Finance",
    adminDescription: "Client submits 30% payment",
    clientDescription: "Submit Initial Payment (30%)",
    clientVisible: true,
    autoEmail: true,
    docAutoGenerated: false,
    clientActionNeeded: true
  },
  {
    step: 19,
    internalPhaseId: 2,
    stage: "Deposit and Agreements",
    owner: "Finance",
    adminDescription: "Finance confirms cleared funds",
    clientDescription: "Finance confirms cleared funds",
    clientVisible: false,
    autoEmail: true,
    docAutoGenerated: false,
    clientActionNeeded: false
  },
  {
    step: 20,
    internalPhaseId: 2,
    stage: "Deposit and Agreements",
    owner: "Finance",
    adminDescription: "PM notified: Funds may commence",
    clientDescription: "PM notified: Funds may commence",
    clientVisible: false,
    autoEmail: false,
    docAutoGenerated: false,
    clientActionNeeded: false
  },
  {
    step: 21,
    internalPhaseId: 2,
    stage: "Deposit and Agreements",
    owner: "Finance",
    adminDescription: "Client Funding Confirmation",
    clientDescription: "Payment Confirmed!",
    clientVisible: true,
    autoEmail: true,
    docAutoGenerated: false,
    clientActionNeeded: false
  },

  // ==========================================
  // INTERNAL PHASE 3: Design Development (Steps 22-38)
  // Client Phase 2: Design & Approval
  // ==========================================
  {
    step: 22,
    internalPhaseId: 3,
    stage: "Design Kickoff - Internal Prep",
    owner: "Design",
    adminDescription: "Assign Designer + PM coordination",
    clientDescription: "Assign Designer + PM coordination",
    clientVisible: false,
    autoEmail: false,
    docAutoGenerated: false,
    clientActionNeeded: false
  },
  {
    step: 23,
    internalPhaseId: 3,
    stage: "Design Kickoff - Internal Prep",
    owner: "Design",
    adminDescription: "Review questionnaire + identify 4 constraints",
    clientDescription: "Review questionnaire + identify 4 constraints",
    clientVisible: false,
    autoEmail: false,
    docAutoGenerated: false,
    clientActionNeeded: false
  },
  {
    step: 24,
    internalPhaseId: 3,
    stage: "Design Kickoff - Internal Prep",
    owner: "Design",
    adminDescription: "Create initial floorplan layouts",
    clientDescription: "Create initial floorplan layouts",
    clientVisible: false,
    autoEmail: false,
    docAutoGenerated: false,
    clientActionNeeded: false
  },
  {
    step: 25,
    internalPhaseId: 3,
    stage: "Design Kickoff - Internal Prep",
    owner: "Design",
    adminDescription: "Build concept board + color/material direction",
    clientDescription: "Build concept board + color/material direction",
    clientVisible: false,
    autoEmail: false,
    docAutoGenerated: false,
    clientActionNeeded: false
  },
  {
    step: 26,
    internalPhaseId: 3,
    stage: "Design Kickoff - Internal Prep",
    owner: "Design",
    adminDescription: "Preliminary pricing model started",
    clientDescription: "Preliminary pricing model started",
    clientVisible: false,
    autoEmail: false,
    docAutoGenerated: false,
    clientActionNeeded: false
  },
  {
    step: 27,
    internalPhaseId: 3,
    stage: "Design Kickoff - Internal Prep",
    owner: "Design",
    adminDescription: "Internal peer review + corrections",
    clientDescription: "Internal peer review + corrections",
    clientVisible: false,
    autoEmail: false,
    docAutoGenerated: false,
    clientActionNeeded: false
  },
  {
    step: 28,
    internalPhaseId: 3,
    stage: "Design Kickoff - Internal Prep",
    owner: "Design",
    adminDescription: "Client notified: Design Round 1 presentation",
    clientDescription: "Design Presentation Ready!",
    clientVisible: true,
    autoEmail: true,
    docAutoGenerated: false,
    clientActionNeeded: false
  },
  {
    step: 29,
    internalPhaseId: 3,
    stage: "Design Round 1 - Presentation",
    owner: "Design + PM",
    adminDescription: "Present initial package directions (Lani/Nalu/Fndtn/Cust)",
    clientDescription: "Present initial package directions (Lani/Nalu/Fndtn/Cust)",
    clientVisible: false,
    autoEmail: false,
    docAutoGenerated: false,
    clientActionNeeded: false
  },
  {
    step: 30,
    internalPhaseId: 3,
    stage: "Design Round 1 - Presentation",
    owner: "Design + PM",
    adminDescription: "Capture client feedback + constraints",
    clientDescription: "Capture client feedback + constraints",
    clientVisible: false,
    autoEmail: false,
    docAutoGenerated: false,
    clientActionNeeded: false
  },
  {
    step: 31,
    internalPhaseId: 3,
    stage: "Design Round 1 - Presentation",
    owner: "Design + PM",
    adminDescription: "Designer + action list created",
    clientDescription: "Designer + action list created",
    clientVisible: false,
    autoEmail: false,
    docAutoGenerated: false,
    clientActionNeeded: false
  },
  {
    step: 32,
    internalPhaseId: 3,
    stage: "Design Round 1 - Presentation",
    owner: "Design + PM",
    adminDescription: "Budget updated based on rough scope",
    clientDescription: "Budget updated based on rough scope",
    clientVisible: false,
    autoEmail: false,
    docAutoGenerated: false,
    clientActionNeeded: false
  },
  {
    step: 33,
    internalPhaseId: 3,
    stage: "Design Round 2 - Revisions",
    owner: "Design",
    adminDescription: "Design revisions executed",
    clientDescription: "Design revisions executed",
    clientVisible: false,
    autoEmail: false,
    docAutoGenerated: false,
    clientActionNeeded: false
  },
  {
    step: 34,
    internalPhaseId: 3,
    stage: "Design Round 2 - Revisions",
    owner: "Design",
    adminDescription: "Final material selections locked",
    clientDescription: "Final material selections locked",
    clientVisible: false,
    autoEmail: false,
    docAutoGenerated: false,
    clientActionNeeded: false
  },
  {
    step: 35,
    internalPhaseId: 3,
    stage: "Design Round 2 - Revisions",
    owner: "Design",
    adminDescription: "Detailed layout + elevations updated",
    clientDescription: "Detailed layout + elevations updated",
    clientVisible: false,
    autoEmail: false,
    docAutoGenerated: false,
    clientActionNeeded: false
  },
  {
    step: 36,
    internalPhaseId: 3,
    stage: "Design Round 2 - Revisions",
    owner: "Design",
    adminDescription: "Soft pricing update issued",
    clientDescription: "Pricing Update Available",
    clientVisible: true,
    autoEmail: true,
    docAutoGenerated: false,
    clientActionNeeded: false
  },
  {
    step: 37,
    internalPhaseId: 3,
    stage: "Design Round 2 - Revisions",
    owner: "Design",
    adminDescription: "Designer notified: Round 2 scheduled",
    clientDescription: "Designer notified: Round 2 scheduled",
    clientVisible: false,
    autoEmail: false,
    docAutoGenerated: false,
    clientActionNeeded: false
  },
  {
    step: 38,
    internalPhaseId: 3,
    stage: "Design Round 2 - Revisions",
    owner: "Design",
    adminDescription: "Client feedback logged (second round)",
    clientDescription: "Provide Your Feedback",
    clientVisible: true,
    autoEmail: false,
    docAutoGenerated: false,
    clientActionNeeded: true
  },

  // ==========================================
  // INTERNAL PHASE 4: Final Design Lock & Procurement Auth (Steps 39-46)
  // Client Phase 2: Design & Approval (transition to Phase 3)
  // ==========================================
  {
    step: 39,
    internalPhaseId: 4,
    stage: "Final Design Approval",
    owner: "Design + PM",
    adminDescription: "Final action list confirmed",
    clientDescription: "Final action list confirmed",
    clientVisible: false,
    autoEmail: false,
    docAutoGenerated: false,
    clientActionNeeded: false
  },
  {
    step: 40,
    internalPhaseId: 4,
    stage: "Final Design Approval",
    owner: "Design + PM",
    adminDescription: "Final pricing confirmed",
    clientDescription: "Final Pricing Confirmed",
    clientVisible: true,
    autoEmail: true,
    docAutoGenerated: false,
    clientActionNeeded: true
  },
  {
    step: 41,
    internalPhaseId: 4,
    stage: "Final Design Approval",
    owner: "Design + PM",
    adminDescription: "Client digitally approves Final Design Locked",
    clientDescription: "Approve Final Design",
    clientVisible: true,
    autoEmail: true,
    docAutoGenerated: false,
    clientActionNeeded: true
  },
  {
    step: 42,
    internalPhaseId: 4,
    stage: "Final Design Approval",
    owner: "Finance",
    adminDescription: "Finance issues timeline + deposit invoice",
    clientDescription: "Timeline & Deposit Invoice",
    clientVisible: true,
    autoEmail: false,
    docAutoGenerated: false,
    clientActionNeeded: false
  },
  {
    step: 43,
    internalPhaseId: 4,
    stage: "Progress Payment for Procurement to 50%",
    owner: "Finance",
    adminDescription: "Client signs Purchase Agreement",
    clientDescription: "Sign Purchase Agreement",
    clientVisible: true,
    autoEmail: false,
    docAutoGenerated: true,
    clientActionNeeded: true
  },
  {
    step: 44,
    internalPhaseId: 4,
    stage: "Progress Payment for Procurement to 50%",
    owner: "Finance",
    adminDescription: "PM fan received (50% total)",
    clientDescription: "Submit 50% Payment",
    clientVisible: true,
    autoEmail: false,
    docAutoGenerated: false,
    clientActionNeeded: true
  },
  {
    step: 45,
    internalPhaseId: 4,
    stage: "Progress Payment for Procurement to 50%",
    owner: "Finance",
    adminDescription: "PM receives \"Go-ahead to Order\"",
    clientDescription: "PM receives \"Go-ahead to Order\"",
    clientVisible: false,
    autoEmail: false,
    docAutoGenerated: false,
    clientActionNeeded: false
  },
  {
    step: 46,
    internalPhaseId: 4,
    stage: "Procurement Prep & Vendor Quotes",
    owner: "Procurement",
    adminDescription: "Vendor list + pricing verified",
    clientDescription: "Vendor list + pricing verified",
    clientVisible: false,
    autoEmail: false,
    docAutoGenerated: false,
    clientActionNeeded: false
  },

  // ==========================================
  // INTERNAL PHASE 5: Procurement, Production & Logistics (Steps 47-66)
  // Client Phase 3: Production & Planning
  // ==========================================
  {
    step: 47,
    internalPhaseId: 5,
    stage: "Procurement Prep & Vendor Quotes",
    owner: "Procurement",
    adminDescription: "Logistics requirements verified",
    clientDescription: "Logistics requirements verified",
    clientVisible: false,
    autoEmail: false,
    docAutoGenerated: false,
    clientActionNeeded: false
  },
  {
    step: 48,
    internalPhaseId: 5,
    stage: "Procurement Prep & Vendor Quotes",
    owner: "Procurement",
    adminDescription: "Approvals for any custom/nonspecials",
    clientDescription: "Approvals for any custom/nonspecials",
    clientVisible: false,
    autoEmail: false,
    docAutoGenerated: false,
    clientActionNeeded: false
  },
  {
    step: 49,
    internalPhaseId: 5,
    stage: "Order Placement & Vendor Deposits",
    owner: "Procurement + Finance",
    adminDescription: "Vendor POs issued",
    clientDescription: "Vendor POs issued",
    clientVisible: false,
    autoEmail: false,
    docAutoGenerated: false,
    clientActionNeeded: false
  },
  {
    step: 50,
    internalPhaseId: 5,
    stage: "Order Placement & Vendor Deposits",
    owner: "Procurement + Finance",
    adminDescription: "Vendor deposit payments issued",
    clientDescription: "Vendor deposit payments issued",
    clientVisible: false,
    autoEmail: true,
    docAutoGenerated: false,
    clientActionNeeded: false
  },
  {
    step: 51,
    internalPhaseId: 5,
    stage: "Order Placement & Vendor Deposits",
    owner: "Procurement + Finance",
    adminDescription: "Vendor production timeline uploaded",
    clientDescription: "Production Timeline Available",
    clientVisible: true,
    autoEmail: true,
    docAutoGenerated: false,
    clientActionNeeded: false
  },
  {
    step: 52,
    internalPhaseId: 5,
    stage: "Order Placement & Vendor Deposits",
    owner: "Procurement + Finance",
    adminDescription: "Client notified: Timeline established",
    clientDescription: "Production Timeline Confirmed",
    clientVisible: true,
    autoEmail: false,
    docAutoGenerated: false,
    clientActionNeeded: false
  },
  {
    step: 53,
    internalPhaseId: 5,
    stage: "Production - In Progress",
    owner: "Procurement + QC",
    adminDescription: "QC milestones established",
    clientDescription: "QC milestones established",
    clientVisible: false,
    autoEmail: false,
    docAutoGenerated: false,
    clientActionNeeded: false
  },
  {
    step: 54,
    internalPhaseId: 5,
    stage: "Production - In Progress",
    owner: "Procurement + QC",
    adminDescription: "Production begins",
    clientDescription: "Production Has Started!",
    clientVisible: true,
    autoEmail: true,
    docAutoGenerated: false,
    clientActionNeeded: false
  },
  {
    step: 55,
    internalPhaseId: 5,
    stage: "Production - In Progress",
    owner: "Procurement + QC",
    adminDescription: "Mid-production QC check",
    clientDescription: "Mid-production QC check",
    clientVisible: false,
    autoEmail: true,
    docAutoGenerated: false,
    clientActionNeeded: false
  },
  {
    step: 56,
    internalPhaseId: 5,
    stage: "Production - In Progress",
    owner: "Procurement + QC",
    adminDescription: "Final QC + approvals",
    clientDescription: "Final QC + approvals",
    clientVisible: false,
    autoEmail: true,
    docAutoGenerated: false,
    clientActionNeeded: false
  },
  {
    step: 57,
    internalPhaseId: 5,
    stage: "Production - In Progress",
    owner: "Procurement + QC",
    adminDescription: "Items packaged + staged for export",
    clientDescription: "Items packaged + staged for export",
    clientVisible: false,
    autoEmail: false,
    docAutoGenerated: false,
    clientActionNeeded: false
  },
  {
    step: 58,
    internalPhaseId: 5,
    stage: "Progress Payment to 75%",
    owner: "Finance",
    adminDescription: "Invoice issued 6 months before delivery",
    clientDescription: "Progress Payment Invoice (25%)",
    clientVisible: true,
    autoEmail: true,
    docAutoGenerated: true,
    clientActionNeeded: true
  },
  {
    step: 59,
    internalPhaseId: 5,
    stage: "Progress Payment to 75%",
    owner: "Finance",
    adminDescription: "Funds confirmed (75% total)",
    clientDescription: "Payment Confirmed - Thank You!",
    clientVisible: true,
    autoEmail: true,
    docAutoGenerated: false,
    clientActionNeeded: false
  },
  {
    step: 60,
    internalPhaseId: 5,
    stage: "Logistics & Export",
    owner: "Logistics + Procurement",
    adminDescription: "Freight quote secured/approved",
    clientDescription: "Freight quote secured/approved",
    clientVisible: false,
    autoEmail: false,
    docAutoGenerated: false,
    clientActionNeeded: false
  },
  {
    step: 61,
    internalPhaseId: 5,
    stage: "Logistics & Export",
    owner: "Logistics + Procurement",
    adminDescription: "Container booked + loaded",
    clientDescription: "Container booked + loaded",
    clientVisible: false,
    autoEmail: false,
    docAutoGenerated: false,
    clientActionNeeded: false
  },
  {
    step: 62,
    internalPhaseId: 5,
    stage: "Logistics & Export",
    owner: "Logistics + Procurement",
    adminDescription: "Customs clearance",
    clientDescription: "Items Shipped - In Transit",
    clientVisible: true,
    autoEmail: false,
    docAutoGenerated: false,
    clientActionNeeded: false
  },
  {
    step: 63,
    internalPhaseId: 5,
    stage: "Logistics & Export",
    owner: "Logistics + Procurement",
    adminDescription: "Freight in-transit + tracking",
    clientDescription: "Track Your Shipment",
    clientVisible: true,
    autoEmail: true,
    docAutoGenerated: false,
    clientActionNeeded: true
  },
  {
    step: 64,
    internalPhaseId: 5,
    stage: "Arrival QC & Delivery Scheduling",
    owner: "Logistics + PM",
    adminDescription: "Warehouse arrival + QC hold",
    clientDescription: "Warehouse arrival + QC hold",
    clientVisible: false,
    autoEmail: false,
    docAutoGenerated: false,
    clientActionNeeded: false
  },
  {
    step: 65,
    internalPhaseId: 5,
    stage: "Arrival QC & Delivery Scheduling",
    owner: "Logistics + PM",
    adminDescription: "Delivery schedule assigned",
    clientDescription: "Delivery schedule assigned",
    clientVisible: false,
    autoEmail: false,
    docAutoGenerated: false,
    clientActionNeeded: false
  },
  {
    step: 66,
    internalPhaseId: 5,
    stage: "Arrival QC & Delivery Scheduling",
    owner: "Logistics + PM",
    adminDescription: "Site access confirmed",
    clientDescription: "Delivery Date Confirmed",
    clientVisible: true,
    autoEmail: true,
    docAutoGenerated: false,
    clientActionNeeded: false
  },

  // ==========================================
  // INTERNAL PHASE 6: Installation, Closeout & Handover (Steps 67-80)
  // Client Phase 4: Delivery & Completion
  // ==========================================
  {
    step: 67,
    internalPhaseId: 6,
    stage: "Final Payment Balance Due for Release of Product",
    owner: "Finance + Logistics",
    adminDescription: "Invoice issued 2 weeks before delivery",
    clientDescription: "Final Payment Invoice (25%)",
    clientVisible: true,
    autoEmail: false,
    docAutoGenerated: true,
    clientActionNeeded: true
  },
  {
    step: 68,
    internalPhaseId: 6,
    stage: "Final Payment Balance Due for Release of Product",
    owner: "Finance + Logistics",
    adminDescription: "Payment confirmed before releasing items",
    clientDescription: "Final Payment Confirmed!",
    clientVisible: true,
    autoEmail: false,
    docAutoGenerated: false,
    clientActionNeeded: false
  },
  {
    step: 69,
    internalPhaseId: 6,
    stage: "Final Payment Balance Due for Release of Product",
    owner: "Finance",
    adminDescription: "Release approved --> Logistics/PM proceed",
    clientDescription: "Release approved --> Logistics/PM proceed",
    clientVisible: false,
    autoEmail: false,
    docAutoGenerated: false,
    clientActionNeeded: false
  },
  {
    step: 70,
    internalPhaseId: 6,
    stage: "Installation & Punch List",
    owner: "PM + Install Team",
    adminDescription: "Delivery to unit",
    clientDescription: "Delivery Day!",
    clientVisible: true,
    autoEmail: false,
    docAutoGenerated: false,
    clientActionNeeded: false
  },
  {
    step: 71,
    internalPhaseId: 6,
    stage: "Installation & Punch List",
    owner: "PM + Install Team",
    adminDescription: "Installation completed",
    clientDescription: "Installation Complete",
    clientVisible: true,
    autoEmail: true,
    docAutoGenerated: false,
    clientActionNeeded: true
  },
  {
    step: 72,
    internalPhaseId: 6,
    stage: "Installation & Punch List",
    owner: "PM + Install Team",
    adminDescription: "Inspect/Punch list created",
    clientDescription: "Inspect/Punch list created",
    clientVisible: false,
    autoEmail: false,
    docAutoGenerated: false,
    clientActionNeeded: false
  },
  {
    step: 73,
    internalPhaseId: 6,
    stage: "Installation & Punch List",
    owner: "PM + Install Team",
    adminDescription: "Final Adjustments Complete",
    clientDescription: "Final Adjustments Complete",
    clientVisible: true,
    autoEmail: true,
    docAutoGenerated: false,
    clientActionNeeded: true
  },
  {
    step: 74,
    internalPhaseId: 6,
    stage: "Installation & Punch List",
    owner: "PM + Install Team",
    adminDescription: "Client walk-through scheduled",
    clientDescription: "Schedule Final Walkthrough",
    clientVisible: true,
    autoEmail: true,
    docAutoGenerated: false,
    clientActionNeeded: true
  },
  {
    step: 75,
    internalPhaseId: 6,
    stage: "Reveal & Closeout",
    owner: "PM + Finance",
    adminDescription: "Styling + Final Reveal",
    clientDescription: "Final Reveal & Walkthrough",
    clientVisible: true,
    autoEmail: false,
    docAutoGenerated: false,
    clientActionNeeded: false
  },
  {
    step: 76,
    internalPhaseId: 6,
    stage: "Reveal & Closeout",
    owner: "PM + Finance",
    adminDescription: "Warranty activations",
    clientDescription: "Warranty activations",
    clientVisible: false,
    autoEmail: false,
    docAutoGenerated: false,
    clientActionNeeded: false
  },
  {
    step: 77,
    internalPhaseId: 6,
    stage: "Reveal & Closeout",
    owner: "PM + Finance",
    adminDescription: "Handover documents provided",
    clientDescription: "Handover Documents & Care Instructions",
    clientVisible: true,
    autoEmail: true,
    docAutoGenerated: false,
    clientActionNeeded: true
  },
  {
    step: 78,
    internalPhaseId: 6,
    stage: "Reveal & Closeout",
    owner: "PM + Finance",
    adminDescription: "CRM marked Project Closed",
    clientDescription: "CRM marked Project Closed",
    clientVisible: false,
    autoEmail: false,
    docAutoGenerated: false,
    clientActionNeeded: false
  },
  {
    step: 79,
    internalPhaseId: 6,
    stage: "Reveal & Closeout",
    owner: "PM + Finance",
    adminDescription: "Post-install feedback collected",
    clientDescription: "Share Your Feedback",
    clientVisible: true,
    autoEmail: false,
    docAutoGenerated: false,
    clientActionNeeded: true
  },
  {
    step: 80,
    internalPhaseId: 6,
    stage: "Reveal & Closeout",
    owner: "PM + Finance",
    adminDescription: "Photo shoot (if client agrees/retail)",
    clientDescription: "Photo shoot (if client agrees/retail)",
    clientVisible: false,
    autoEmail: false,
    docAutoGenerated: false,
    clientActionNeeded: false
  }
];

module.exports = { JOURNEY_STEPS, INTERNAL_PHASES };